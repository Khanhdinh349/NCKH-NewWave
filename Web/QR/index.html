<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Plant Live Status</title>
  <link rel="stylesheet" href="./style.css" />
  <!-- QRCode.js for generating the QR preview (global `QRCode`) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js" defer></script>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="brand">
        <div class="logo">ğŸŒ¿</div>
        <div>
          <h1 class="title">Plant Live Status</h1>
          <p class="subtitle">QuÃ©t QR Ä‘á»ƒ xem thÃ´ng tin cÃ¢y theo thá»i gian thá»±c</p>
        </div>
      </div>
      <span id="plantChip" class="chip">plantId: <span class="mono" id="plantIdChip">â€”</span></span>
    </header>

    <section class="grid">
      <!-- Left: live image + meta -->
      <div class="card">
        <h3>HÃ¬nh áº£nh hiá»‡n táº¡i</h3>
        <div class="image-wrap" id="imageWrap">
          <div class="skeleton" id="imgSkeleton"></div>
          <img id="plantImage" alt="áº¢nh cÃ¢y" class="hidden" />
        </div>
        <div class="footer">
          <div class="muted" id="imgUpdated">Äang táº£i áº£nhâ€¦</div>
          <button id="btnRefresh" class="btn">LÃ m má»›i</button>
        </div>
      </div>

      <!-- Right: sensors & schedules -->
      <div class="card">
        <h3>ThÃ´ng tin & Tráº¡ng thÃ¡i</h3>
        <div class="list" style="margin-bottom:12px">
          <div class="item"><span class="muted">TÃªn cÃ¢y</span><strong id="plantName">â€”</strong></div>
          <div class="item"><span class="muted">Vá»‹ trÃ­</span><strong id="plantLocation">â€”</strong></div>
          <div class="item"><span class="muted">Cháº¿ Ä‘á»™</span><strong id="plantMode">â€”</strong></div>
        </div>

        <div class="row">
          <div class="metric" id="mTemp"><span class="dot"></span><div><div>Nhiá»‡t Ä‘á»™</div><div><span class="val" id="tempVal">â€”</span> <span class="unit">Â°C</span></div></div></div>
          <div class="metric" id="mHum"><span class="dot"></span><div><div>Äá»™ áº©m</div><div><span class="val" id="humVal">â€”</span> <span class="unit">%</span></div></div></div>
          <div class="metric" id="mSoil"><span class="dot"></span><div><div>Äá»™ áº©m Ä‘áº¥t</div><div><span class="val" id="soilVal">â€”</span> <span class="unit">%</span></div></div></div>
          <div class="metric" id="mLight"><span class="dot"></span><div><div>Cáº£m biáº¿n Ã¡nh sÃ¡ng</div><div><span class="val" id="lightVal">â€”</span></div></div></div>
        </div>

        <h3 style="margin-top:14px">Lá»‹ch thiáº¿t bá»‹</h3>
        <div class="row">
          <div class="item"><span>ÄÃ¨n: <span class="muted">On</span></span><strong id="lightOn">â€”</strong></div>
          <div class="item"><span>ÄÃ¨n: <span class="muted">Off</span></span><strong id="lightOff">â€”</strong></div>
          <div class="item"><span>BÆ¡m/Quáº¡t: <span class="muted">On</span></span><strong id="motorOn">â€”</strong></div>
          <div class="item"><span>BÆ¡m/Quáº¡t: <span class="muted">Off</span></span><strong id="motorOff">â€”</strong></div>
        </div>

        <p id="statusMsg" class="muted" style="margin-top:12px"></p>
        <p id="errorMsg" class="error hidden"></p>

        <div class="footer">
          <div style="display:flex; align-items:center"><span class="status-dot" id="statusDot"></span><span id="lastUpdated" class="muted">â€”</span></div>
          <button id="btnToggleMode" class="btn accent">Chuyá»ƒn cháº¿ Ä‘á»™ (Tá»± Ä‘á»™ng/Thá»§ cÃ´ng)</button>
        </div>
      </div>
    </section>

    <section class="card" style="margin-top:16px">
      <h3>Táº¡o QR liÃªn káº¿t tá»›i trang nÃ y</h3>
      <p class="muted">URL máº«u: <code class="mono">https://your-domain.com/index.html?plantId=YOUR_ID</code></p>
      <div id="qrcode"></div>
    </section>
  </div>

  <!-- Main app -->
  <script type="module" src="./app.js"></script>
</body>
</html>